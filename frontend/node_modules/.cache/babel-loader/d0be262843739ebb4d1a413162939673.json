{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arora\\\\OneDrive\\\\Desktop\\\\React\\\\frontend\\\\src\\\\components\\\\UpdateCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styled from \"styled-components\";\nimport MaskedInput from \"react-text-mask\";\nimport axios from '../axios';\nimport { EXPIRYDATE } from \"../constant\";\nimport { stripeCardExpirValidation, textWithSpacesOnly } from \"../validations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  console.log(\"action\", action.data);\n  switch (action.type) {\n    case \"cardHolder\":\n      return {\n        ...state,\n        cardHolder: action.data\n      };\n    case \"expiry\":\n      return {\n        ...state,\n        expiry: action.data\n      };\n    case \"cleanState\":\n      return {\n        ...action.data\n      };\n    default:\n      return state;\n  }\n};\n// const [Edit,setEdit]=useState(false);\n\nfunction UpdateCard(props) {\n  _s();\n  const [errors, setErrors] = React.useState({});\n  const [updatedcard, setUpdatedCard] = React.useReducer(reducer, {\n    cardHolder: \"\",\n    expiry: \"\"\n  });\n  const handleValidations = (type, value) => {\n    let errorText;\n    switch (type) {\n      case \"cardHolder\":\n        errorText = value === \"\" ? \"Required\" : textWithSpacesOnly(value);\n        setErrors({\n          ...errors,\n          cardHolderError: errorText\n        });\n        break;\n      case \"expiry\":\n        errorText = value === \"\" ? \"Required\" : stripeCardExpirValidation(value);\n        setErrors({\n          ...errors,\n          expiryError: errorText\n        });\n        break;\n      default:\n        break;\n    }\n  };\n  const handleBlur = e => {\n    handleValidations(e.target.name, e.target.value);\n  };\n  const handleInputData = e => {\n    setUpdatedCard({\n      type: e.target.name,\n      data: e.target.value\n    });\n  };\n  const Updatedata = () => {\n    axios.put(`/cards/update/${props.id}`, {\n      ...updatedcard\n    }).then(() => {\n      setUpdatedCard({\n        type: \"cleanState\",\n        data: {\n          cardHolder: \"\",\n          expiry: \"\"\n        }\n      });\n      props.Fetchdata();\n    }).catch(err => alert(err.message));\n    // props.setEdit(!props.Edit); \n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Update, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"CardHolder's Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        required: true,\n        name: \"cardHolder\",\n        onChange: handleInputData,\n        placeholder: \"Enter cardholder's name\",\n        value: updatedcard.cardHolder,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this), errors && errors.cardHolderError && errors.cardHolderError.length > 1 && /*#__PURE__*/_jsxDEV(Error, {\n        children: errors.cardHolderError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Expiry Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MaskedInput, {\n        mask: EXPIRYDATE,\n        name: \"expiry\",\n        required: true,\n        placeholderChar: \"\\u2000\",\n        placeholder: \"MM/YY\",\n        onChange: handleInputData,\n        value: updatedcard.expiry,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 10\n      }, this), errors && errors.expiryError && errors.expiryError.length > 1 && /*#__PURE__*/_jsxDEV(Error, {\n        children: errors.expiryError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: Updatedata,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 12\n    }, this)\n  }, void 0, false);\n}\n_s(UpdateCard, \"BvCXQwLw9RxensbngaSMIChndjM=\");\n_c = UpdateCard;\nconst Update = styled.div`\ndisplay:flow-root;\n label {\n    font-size: 14px;\n\n    margin-left: 18px;\n    margin-right: 18px;\n\n  }\n  button\n  {\n    margin-left:20px\n  }\n `;\n_c2 = Update;\nconst Button = styled.button`\n \n background-color:#00FFFF;\n border: 2px solid black;\n border-radius:4px;\n margin:5px;\n \n`;\n_c3 = Button;\nconst Error = styled.span`\nfont-size: 13px;\nfont-weight: bold;\ncolor: red;\n`;\n_c4 = Error;\nexport default UpdateCard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"UpdateCard\");\n$RefreshReg$(_c2, \"Update\");\n$RefreshReg$(_c3, \"Button\");\n$RefreshReg$(_c4, \"Error\");","map":{"version":3,"names":["React","styled","MaskedInput","axios","EXPIRYDATE","stripeCardExpirValidation","textWithSpacesOnly","reducer","state","action","console","log","data","type","cardHolder","expiry","UpdateCard","props","errors","setErrors","useState","updatedcard","setUpdatedCard","useReducer","handleValidations","value","errorText","cardHolderError","expiryError","handleBlur","e","target","name","handleInputData","Updatedata","put","id","then","Fetchdata","catch","err","alert","message","length","Update","div","Button","button","Error","span"],"sources":["C:/Users/arora/OneDrive/Desktop/React/frontend/src/components/UpdateCard.js"],"sourcesContent":["import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport MaskedInput from \"react-text-mask\";\r\nimport axios from '../axios'\r\nimport {\r\n  EXPIRYDATE,\r\n\r\n} from \"../constant\"\r\nimport {\r\n  stripeCardExpirValidation,\r\n  textWithSpacesOnly,\r\n \r\n} from \"../validations\"\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(\"action\", action.data);\r\n  switch (action.type) {\r\n    case \"cardHolder\":\r\n      return { ...state, cardHolder: action.data };\r\n    case \"expiry\":\r\n      return { ...state, expiry: action.data };\r\n    case \"cleanState\":\r\n      return { ...action.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n// const [Edit,setEdit]=useState(false);\r\n\r\nfunction UpdateCard(props)\r\n{\r\n \r\nconst [errors, setErrors] = React.useState({});\r\nconst [updatedcard,setUpdatedCard]=React.useReducer(reducer,{\r\n  cardHolder: \"\",\r\n  expiry: \"\"\r\n})\r\n\r\n\r\n\r\n  const handleValidations=(type, value)=>\r\n{\r\n  let errorText;\r\n  switch (type)\r\n  {\r\n    case \"cardHolder\":\r\n      errorText=value===\"\" ? \"Required\": textWithSpacesOnly(value);\r\n      setErrors({ ...errors, cardHolderError: errorText });\r\n      break;\r\n    case \"expiry\":\r\n      errorText=value===\"\" ? \"Required\" : stripeCardExpirValidation(value);\r\n      setErrors({ ...errors, expiryError: errorText });\r\n     break;\r\n      default:\r\n        break;\r\n  }\r\n}\r\n\r\nconst handleBlur=(e)=>\r\n{\r\n  handleValidations(e.target.name,e.target.value)\r\n}\r\n\r\n\r\n\r\n\r\n  const handleInputData=(e)=>\r\n  {\r\n    setUpdatedCard({\r\n      type:e.target.name,data:e.target.value\r\n    })\r\n  }\r\n\r\n  const Updatedata=()=>\r\n  {\r\n  \r\n   axios\r\n      .put(`/cards/update/${props.id}`,{...updatedcard})\r\n      .then(()=>\r\n      {\r\n        setUpdatedCard(\r\n          {\r\n            type:\"cleanState\",\r\n            data: {\r\n              cardHolder: \"\",\r\n              expiry: \"\"\r\n            } \r\n          }\r\n        )\r\n        props.Fetchdata();\r\n      })\r\n      .catch((err)=>alert(err.message));   \r\n      // props.setEdit(!props.Edit); \r\n     \r\n}\r\n\r\n\r\n  return <><Update>\r\n\r\n       <p>CardHolder's Name</p>\r\n      <input type=\"text\"\r\n       required\r\n       name='cardHolder'\r\n       onChange={handleInputData}\r\nplaceholder=\"Enter cardholder's name\"\r\n       value={updatedcard.cardHolder}\r\n        onBlur={handleBlur}\r\n       />\r\n        {errors &&\r\n                errors.cardHolderError &&\r\n                errors.cardHolderError.length > 1 && (\r\n                  <Error>{errors.cardHolderError}</Error>\r\n                )}\r\n    \r\n      <p>Expiry Date:</p>\r\n         <MaskedInput\r\n        mask={EXPIRYDATE}\r\n        name=\"expiry\"\r\n        required\r\n        placeholderChar={\"\\u2000\"}\r\n        placeholder=\"MM/YY\"\r\n      onChange={handleInputData}\r\n            value={updatedcard.expiry}\r\n              onBlur={handleBlur}\r\n            />\r\n              {errors &&\r\n                    errors.expiryError &&\r\n                    errors.expiryError.length > 1 && (\r\n                      <Error>{errors.expiryError}</Error>\r\n                    )}\r\n    \r\n  <Button onClick={Updatedata}>Update</Button>\r\n  </Update>\r\n   \r\n  </>\r\n}\r\nconst Update=styled.div`\r\ndisplay:flow-root;\r\n label {\r\n    font-size: 14px;\r\n\r\n    margin-left: 18px;\r\n    margin-right: 18px;\r\n\r\n  }\r\n  button\r\n  {\r\n    margin-left:20px\r\n  }\r\n `\r\n\r\n const Button = styled.button`\r\n \r\n background-color:#00FFFF;\r\n border: 2px solid black;\r\n border-radius:4px;\r\n margin:5px;\r\n \r\n`;\r\n\r\n\r\nconst Error = styled.span`\r\nfont-size: 13px;\r\nfont-weight: bold;\r\ncolor: red;\r\n`;\r\n\r\nexport default UpdateCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}