{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arora\\\\OneDrive\\\\Desktop\\\\React\\\\frontend\\\\src\\\\components\\\\SavedCards.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport DeleteCard from './DeleteCard';\nimport UpdateCard from './UpdateCard';\nimport { FaEdit } from 'react-icons/fa';\nimport axios from '../axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SavedCards(props) {\n  _s();\n  const [data, setData] = useState([]);\n  const [openCard, setOpen] = useState(false);\n  const opensavedCard = e => {\n    e.preventDefault();\n    fetchData();\n    props.setsaveCard(!props.saveCard);\n  };\n  const openCards = (e, id) => {\n    e.preventDefault();\n    console.log(id);\n\n    // to close all other cards except the one which is clicked\n    // data.forEach(element=>\n    //   {\n    //     element.isOpen=false;\n    //   })\n\n    let element = data.find(x => x._id === id);\n    console.log(element);\n    element.isOpen = !element.isOpen;\n    setOpen(!openCard);\n  };\n  function openEdit(e, id) {\n    let element = data.find(x => x._id === id);\n    console.log(element);\n    element.isEdit = !element.isEdit;\n    setOpen(!openCard);\n  }\n  const fetchData = async () => {\n    const result = await axios.get(\"/cards/get\");\n    result.data.forEach(element => {\n      element.isOpen = false;\n      element.isEdit = false;\n    });\n    console.log(result.data);\n    setData(result.data);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Add, {\n      onClick: opensavedCard,\n      children: \"Your saved credit and debit cards\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this), props.saveCard && (data.length < 1 ? /*#__PURE__*/_jsxDEV(Details, {\n      children: \" No cards have been saved yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 43\n    }, this) : data.map((cardsitem, id) => {\n      return /*#__PURE__*/_jsxDEV(Cards, {\n        children: [/*#__PURE__*/_jsxDEV(Cardname, {\n          onClick: args => openCards(args, cardsitem._id),\n          children: [\"Card ending with \", cardsitem.card.slice(-4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), cardsitem.isOpen && /*#__PURE__*/_jsxDEV(Details, {\n          children: [/*#__PURE__*/_jsxDEV(Detailschild, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Card Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", cardsitem.card.replace(cardsitem.card.substring(5, 14), \"**** ****\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Name on card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: cardsitem.cardHolder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Detailschild, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Expiry date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: cardsitem.expiry\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(DeleteCard, {\n              id: cardsitem._id,\n              Fetchdata: fetchData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Editcard, {\n              onClick: args => openEdit(args, cardsitem._id),\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 8\n            }, this), cardsitem.isEdit && /*#__PURE__*/_jsxDEV(UpdateCard, {\n              id: cardsitem._id,\n              Fetchdata: fetchData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 10\n        }, this)]\n      }, id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 10\n      }, this);\n    }))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(SavedCards, \"6ph3eXIo2YUi/TY2Ocja8+BvaZ4=\");\n_c = SavedCards;\nconst Add = styled.button`\n  display: flex;\n  align-items: center;\n  width:100%;\n  height: 60px;\n  color: black;\npadding:0 0 0 10px;\n  cursor: pointer;\n  `;\n_c2 = Add;\nconst Cardname = styled.button`\n  display: flex;\n  align-items: center;\n  width:100%;\n  height: 60px;\n  color: black;\n\n  cursor: pointer;\n \n  `;\n_c3 = Cardname;\nconst Cards = styled.div`\n  margin:20px 10px 5px 10px;\n    height: fit-content;\n    border-radius: 8px;\n    border:1px solid grey;\n  `;\n_c4 = Cards;\nconst Container = styled.div`\n  margin:30px 10px 0 10px;\n   height: fit-content;\n   border-radius: 8px;\n   border:1px solid grey;\n `;\n_c5 = Container;\nconst Details = styled.div`\n  display: grid; \n    grid-template-columns: 1fr 1fr; \n    grid-gap: 20px; \n  margin:10px ;\n  height:fit-content;\n `;\n_c6 = Details;\nconst Detailschild = styled.div`\n  label {\n    font-size: 14px;\n    font-weight: 600;\n  }\n  p\n  {\nmargin-top:auto;\n  }\n `;\n_c7 = Detailschild;\nconst Editcard = styled(FaEdit)`\n height:20px;\n  width:20px;\n  padding:20px 8px 0 8px\n`;\n_c8 = Editcard;\nexport default SavedCards;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"SavedCards\");\n$RefreshReg$(_c2, \"Add\");\n$RefreshReg$(_c3, \"Cardname\");\n$RefreshReg$(_c4, \"Cards\");\n$RefreshReg$(_c5, \"Container\");\n$RefreshReg$(_c6, \"Details\");\n$RefreshReg$(_c7, \"Detailschild\");\n$RefreshReg$(_c8, \"Editcard\");","map":{"version":3,"names":["React","useState","styled","DeleteCard","UpdateCard","FaEdit","axios","SavedCards","props","data","setData","openCard","setOpen","opensavedCard","e","preventDefault","fetchData","setsaveCard","saveCard","openCards","id","console","log","element","find","x","_id","isOpen","openEdit","isEdit","result","get","forEach","length","map","cardsitem","args","card","slice","replace","substring","cardHolder","expiry","Add","button","Cardname","Cards","div","Container","Details","Detailschild","Editcard"],"sources":["C:/Users/arora/OneDrive/Desktop/React/frontend/src/components/SavedCards.js"],"sourcesContent":["import React,{useState} from \"react\";\r\n\r\n\r\nimport styled from \"styled-components\";\r\nimport DeleteCard from './DeleteCard';\r\nimport UpdateCard from './UpdateCard'\r\nimport {FaEdit} from 'react-icons/fa';\r\nimport axios from '../axios'\r\nfunction SavedCards(props) {\r\n  const [data,setData]=useState([])\r\nconst [openCard, setOpen] = useState(false);\r\n\r\n\r\n\r\n\r\nconst opensavedCard=(e)=>\r\n{\r\ne.preventDefault();\r\nfetchData();\r\n  props.setsaveCard(!props.saveCard);\r\n}\r\n\r\nconst openCards=(e,id)=>\r\n{\r\n  e.preventDefault();\r\nconsole.log(id)\r\n\r\n// to close all other cards except the one which is clicked\r\n// data.forEach(element=>\r\n//   {\r\n//     element.isOpen=false;\r\n//   })\r\n\r\nlet element=data.find(x=>x._id===id);\r\nconsole.log(element);\r\nelement.isOpen=(!element.isOpen);\r\nsetOpen(!openCard);\r\n}\r\n\r\nfunction openEdit(e,id)\r\n{\r\nlet element=data.find(x=>x._id===id)\r\nconsole.log(element)\r\nelement.isEdit=(!element.isEdit);\r\nsetOpen(!openCard);\r\n}\r\n\r\n\r\nconst fetchData=async()=>\r\n    {\r\n      \r\n      const result=await axios.get(\"/cards/get\");\r\n\r\n      \r\n      result.data.forEach(element => {\r\n        element.isOpen=false;\r\n        element.isEdit=false;\r\n      });\r\n      console.log(result.data);\r\n      \r\n        setData(result.data)\r\n      \r\n  \r\n    }\r\n        \r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container>\r\n    <Add onClick={opensavedCard}>\r\n    {/* <div className='text'>Your saved credit and debit cards</div> */}\r\n    Your saved credit and debit cards\r\n   </Add>\r\n \r\n      {props.saveCard && (data.length<1 ? <Details> No cards have been saved yet</Details> : data.map((cardsitem,id) => {\r\n        return (\r\n         <Cards key={id}>\r\n          <Cardname onClick={(args)=>openCards(args,cardsitem._id)}>\r\n            Card ending with {cardsitem.card.slice(-4)}\r\n        </Cardname>\r\n\r\n        {(cardsitem.isOpen) && \r\n        (<Details>\r\n        <Detailschild>\r\n        <label>Card Number\r\n       </label>\r\n       <p> {cardsitem.card.replace(cardsitem.card.substring(5,14),\"**** ****\")}</p>\r\n       <label>Name on card\r\n       </label>\r\n       <p>{cardsitem.cardHolder}</p>\r\n          </Detailschild>\r\n          <Detailschild>\r\n          <label>Expiry date\r\n       </label>\r\n          <p>{cardsitem.expiry}</p>\r\n       <DeleteCard id={cardsitem._id} Fetchdata={fetchData}></DeleteCard>\r\n       <Editcard onClick={(args)=>openEdit(args,cardsitem._id)}> </Editcard>\r\n       {cardsitem.isEdit && <UpdateCard id={cardsitem._id} Fetchdata={fetchData}></UpdateCard>}\r\n        </Detailschild>    \r\n      </Details>\r\n        )\r\n        }\r\n       \r\n        </Cards >\r\n        );\r\n      }))\r\n      }\r\n     \r\n      </Container>\r\n    \r\n  );\r\n}\r\n\r\nconst Add = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  width:100%;\r\n  height: 60px;\r\n  color: black;\r\npadding:0 0 0 10px;\r\n  cursor: pointer;\r\n  `;\r\n\r\n  const Cardname = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  width:100%;\r\n  height: 60px;\r\n  color: black;\r\n\r\n  cursor: pointer;\r\n \r\n  `;\r\n\r\n  const Cards=styled.div`\r\n  margin:20px 10px 5px 10px;\r\n    height: fit-content;\r\n    border-radius: 8px;\r\n    border:1px solid grey;\r\n  `;\r\n\r\n  const Container = styled.div`\r\n  margin:30px 10px 0 10px;\r\n   height: fit-content;\r\n   border-radius: 8px;\r\n   border:1px solid grey;\r\n `;\r\n\r\n const Details=styled.div`\r\n  display: grid; \r\n    grid-template-columns: 1fr 1fr; \r\n    grid-gap: 20px; \r\n  margin:10px ;\r\n  height:fit-content;\r\n `\r\n ;\r\n\r\n\r\n\r\n const Detailschild=styled.div`\r\n  label {\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n  }\r\n  p\r\n  {\r\nmargin-top:auto;\r\n  }\r\n `;\r\n const Editcard=styled(FaEdit)`\r\n height:20px;\r\n  width:20px;\r\n  padding:20px 8px 0 8px\r\n`;\r\n\r\n\r\n\r\n \r\n\r\n\r\nexport default SavedCards;"],"mappings":"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"},"metadata":{},"sourceType":"module"}