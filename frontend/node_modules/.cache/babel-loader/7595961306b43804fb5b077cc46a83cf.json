{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arora\\\\OneDrive\\\\Desktop\\\\React\\\\frontend\\\\src\\\\components\\\\UpdateCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styled from \"styled-components\";\nimport { FaEdit } from 'react-icons/fa';\nimport MaskedInput from \"react-text-mask\";\nimport axios from '../axios';\nimport { EXPIRYDATE } from \"../constant\";\nimport { stripeCardExpirValidation, textWithSpacesOnly } from \"../validations\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst reducer = (state, action) => {\n  console.log(\"action\", action.data);\n  switch (action.type) {\n    case \"cardHolder\":\n      return {\n        ...state,\n        cardHolder: action.data\n      };\n    case \"expiry\":\n      return {\n        ...state,\n        expiry: action.data\n      };\n    case \"cleanState\":\n      return {\n        ...action.data\n      };\n    default:\n      return state;\n  }\n};\nfunction UpdateCard(props) {\n  _s();\n  const [errors, setErrors] = React.useState({});\n  const [updatedcard, setUpdatedCard] = React.useReducer(reducer, {\n    cardHolder: \"\",\n    expiry: \"\"\n  });\n  const handleValidations = (type, value) => {\n    let errorText;\n    switch (type) {\n      case \"cardHolder\":\n        errorText = value === \"\" ? \"Required\" : textWithSpacesOnly(value);\n        setErrors({\n          ...errors,\n          cardHolderError: errorText\n        });\n        break;\n      case \"expiry\":\n        errorText = value === \"\" ? \"Required\" : stripeCardExpirValidation(value);\n        setErrors({\n          ...errors,\n          expiryError: errorText\n        });\n        break;\n      default:\n        break;\n    }\n  };\n  const handleBlur = e => {\n    handleValidations(e.target.name, e.target.value);\n  };\n  const openEdit = e => {\n    e.preventDefault();\n    props.setEdit(!props.Edit);\n  };\n  const handleInputData = e => {\n    setUpdatedCard({\n      type: e.target.name,\n      data: e.target.value\n    });\n  };\n  const Updatedata = () => {\n    axios.put(`/cards/update/${props.id}`, {\n      ...updatedcard\n    }).then(() => {\n      setUpdatedCard({\n        type: \"cleanState\",\n        data: {\n          cardHodler: \"\",\n          expiry: \"\"\n        }\n      });\n    }).catch(err => alert(err.message));\n    props.setEdit(!props.Edit);\n    props.Fetchdata();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Editcard, {\n      onClick: openEdit,\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }, this), props.Edit && /*#__PURE__*/_jsxDEV(Update, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"CardHolder's Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        required: true,\n        name: \"cardHolder\",\n        onChange: handleInputData,\n        placeholder: \"Enter cardholder's name\",\n        value: updatedcard.cardHolder,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }, this), errors && errors.cardHolderError && errors.cardHolderError.length > 1 && /*#__PURE__*/_jsxDEV(Error, {\n        children: errors.cardHolderError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Expiry Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MaskedInput, {\n        mask: EXPIRYDATE,\n        name: \"expiry\",\n        required: true,\n        placeholderChar: \"\\u2000\",\n        placeholder: \"MM/YY\",\n        onChange: handleInputData,\n        value: updatedcard.expiry,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 10\n      }, this), errors && errors.expiryError && errors.expiryError.length > 1 && /*#__PURE__*/_jsxDEV(Error, {\n        children: errors.expiryError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Updatedata,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: openEdit,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true);\n}\n_s(UpdateCard, \"BvCXQwLw9RxensbngaSMIChndjM=\");\n_c = UpdateCard;\nconst Update = styled.div`\ndisplay:flow-root;\n label {\n    font-size: 14px;\n\n    margin-left: 18px;\n    margin-right: 18px;\n\n  }\n  button\n  {\n    margin-left:20px\n  }\n `;\n_c2 = Update;\nconst Editcard = styled(FaEdit)`\n height:20px;\n  width:20px;\n  padding:20px 8px 0 8px\n`;\n_c3 = Editcard;\nconst Error = styled.span`\nfont-size: 13px;\nfont-weight: bold;\ncolor: red;\n`;\n_c4 = Error;\nexport default UpdateCard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"UpdateCard\");\n$RefreshReg$(_c2, \"Update\");\n$RefreshReg$(_c3, \"Editcard\");\n$RefreshReg$(_c4, \"Error\");","map":{"version":3,"names":["React","styled","FaEdit","MaskedInput","axios","EXPIRYDATE","stripeCardExpirValidation","textWithSpacesOnly","reducer","state","action","console","log","data","type","cardHolder","expiry","UpdateCard","props","errors","setErrors","useState","updatedcard","setUpdatedCard","useReducer","handleValidations","value","errorText","cardHolderError","expiryError","handleBlur","e","target","name","openEdit","preventDefault","setEdit","Edit","handleInputData","Updatedata","put","id","then","cardHodler","catch","err","alert","message","Fetchdata","length","Update","div","Editcard","Error","span"],"sources":["C:/Users/arora/OneDrive/Desktop/React/frontend/src/components/UpdateCard.js"],"sourcesContent":["import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {FaEdit} from 'react-icons/fa';\r\nimport MaskedInput from \"react-text-mask\";\r\nimport axios from '../axios'\r\nimport {\r\n  EXPIRYDATE,\r\n\r\n} from \"../constant\"\r\nimport {\r\n  stripeCardExpirValidation,\r\n  textWithSpacesOnly,\r\n \r\n} from \"../validations\"\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(\"action\", action.data);\r\n  switch (action.type) {\r\n    case \"cardHolder\":\r\n      return { ...state, cardHolder: action.data };\r\n    case \"expiry\":\r\n      return { ...state, expiry: action.data };\r\n    case \"cleanState\":\r\n      return { ...action.data };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nfunction UpdateCard(props)\r\n{\r\n\r\nconst [errors, setErrors] = React.useState({});\r\nconst [updatedcard,setUpdatedCard]=React.useReducer(reducer,{\r\n  cardHolder: \"\",\r\n  expiry: \"\"\r\n})\r\n\r\n\r\n\r\n  const handleValidations=(type, value)=>\r\n{\r\n  let errorText;\r\n  switch (type)\r\n  {\r\n    case \"cardHolder\":\r\n      errorText=value===\"\" ? \"Required\": textWithSpacesOnly(value);\r\n      setErrors({ ...errors, cardHolderError: errorText });\r\n      break;\r\n    case \"expiry\":\r\n      errorText=value===\"\" ? \"Required\" : stripeCardExpirValidation(value);\r\n      setErrors({ ...errors, expiryError: errorText });\r\n     break;\r\n      default:\r\n        break;\r\n  }\r\n}\r\n\r\nconst handleBlur=(e)=>\r\n{\r\n  handleValidations(e.target.name,e.target.value)\r\n}\r\n\r\n\r\n  const openEdit=(e)=>\r\n  {\r\ne.preventDefault();\r\n    props.setEdit(!props.Edit);\r\n  }\r\n\r\n\r\n  const handleInputData=(e)=>\r\n  {\r\n    setUpdatedCard({\r\n      type:e.target.name,data:e.target.value\r\n    })\r\n  }\r\n\r\n  const Updatedata=()=>\r\n  {\r\n  \r\n   axios\r\n      .put(`/cards/update/${props.id}`,{...updatedcard})\r\n      .then(()=>\r\n      {\r\n        setUpdatedCard(\r\n          {\r\n            type:\"cleanState\",\r\n            data: {\r\n              cardHodler: \"\",\r\n              expiry: \"\"\r\n            } \r\n          }\r\n        )\r\n      })\r\n      .catch((err)=>alert(err.message));   \r\n      props.setEdit(!props.Edit); \r\n      props.Fetchdata();\r\n}\r\n\r\n\r\n  return <><Editcard onClick={openEdit}> </Editcard>\r\n    {props.Edit && (<Update>\r\n\r\n       <p>CardHolder's Name</p>\r\n      <input type=\"text\"\r\n       required\r\n       name='cardHolder'\r\n       onChange={handleInputData}\r\nplaceholder=\"Enter cardholder's name\"\r\n       value={updatedcard.cardHolder}\r\n        onBlur={handleBlur}\r\n       />\r\n        {errors &&\r\n                errors.cardHolderError &&\r\n                errors.cardHolderError.length > 1 && (\r\n                  <Error>{errors.cardHolderError}</Error>\r\n                )}\r\n    \r\n      <p>Expiry Date:</p>\r\n         <MaskedInput\r\n        mask={EXPIRYDATE}\r\n        name=\"expiry\"\r\n        required\r\n        placeholderChar={\"\\u2000\"}\r\n        placeholder=\"MM/YY\"\r\n      onChange={handleInputData}\r\n            value={updatedcard.expiry}\r\n              onBlur={handleBlur}\r\n            />\r\n              {errors &&\r\n                    errors.expiryError &&\r\n                    errors.expiryError.length > 1 && (\r\n                      <Error>{errors.expiryError}</Error>\r\n                    )}\r\n    \r\n  <button onClick={Updatedata}>Update</button>\r\n  <button onClick={openEdit}>Cancel</button>\r\n  </Update>\r\n  )\r\n  } \r\n  </>\r\n}\r\nconst Update=styled.div`\r\ndisplay:flow-root;\r\n label {\r\n    font-size: 14px;\r\n\r\n    margin-left: 18px;\r\n    margin-right: 18px;\r\n\r\n  }\r\n  button\r\n  {\r\n    margin-left:20px\r\n  }\r\n `\r\n\r\nconst Editcard=styled(FaEdit)`\r\n height:20px;\r\n  width:20px;\r\n  padding:20px 8px 0 8px\r\n`;\r\n\r\n\r\n\r\nconst Error = styled.span`\r\nfont-size: 13px;\r\nfont-weight: bold;\r\ncolor: red;\r\n`;\r\n\r\nexport default UpdateCard;"],"mappings":"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"},"metadata":{},"sourceType":"module"}