{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/arora/OneDrive/Desktop/React/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/arora/OneDrive/Desktop/React/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/arora/OneDrive/Desktop/React/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/arora/OneDrive/Desktop/React/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState}from\"react\";import styled from\"styled-components\";import DeleteCard from'./DeleteCard';import UpdateCard from'./UpdateCard';import{FaEdit}from'react-icons/fa';import axios from'../axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SavedCards(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openCard=_useState4[0],setOpen=_useState4[1];var opensavedCard=function opensavedCard(e){e.preventDefault();fetchData();props.setsaveCard(!props.saveCard);};var openCards=function openCards(e,id){e.preventDefault();console.log(id);// to close all other cards except the one which is clicked\n// data.forEach(element=>\n//   {\n//     element.isOpen=false;\n//   })\nvar element=data.find(function(x){return x._id===id;});console.log(element);element.isOpen=!element.isOpen;setOpen(!openCard);};function openEdit(e,id){var element=data.find(function(x){return x._id===id;});console.log(element);element.isEdit=!element.isEdit;setOpen(!openCard);}var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/cards/get\");case 2:result=_context.sent;result.data.forEach(function(element){element.isOpen=false;element.isEdit=false;});console.log(result.data);setData(result.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Add,{onClick:opensavedCard,children:\"Your saved credit and debit cards\"}),props.saveCard&&(data.length<1?/*#__PURE__*/_jsx(Details,{children:\" No cards have been saved yet\"}):data.map(function(cardsitem,id){return/*#__PURE__*/_jsxs(Cards,{children:[/*#__PURE__*/_jsxs(Cardname,{onClick:function onClick(args){return openCards(args,cardsitem._id);},children:[\"Card ending with \",cardsitem.card.slice(-4)]}),cardsitem.isOpen&&/*#__PURE__*/_jsxs(Details,{children:[/*#__PURE__*/_jsxs(Detailschild,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Card Number\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",cardsitem.card.replace(cardsitem.card.substring(5,14),\"**** ****\")]}),/*#__PURE__*/_jsx(\"label\",{children:\"Name on card\"}),/*#__PURE__*/_jsx(\"p\",{children:cardsitem.cardHolder})]}),/*#__PURE__*/_jsxs(Detailschild,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Expiry date\"}),/*#__PURE__*/_jsx(\"p\",{children:cardsitem.expiry}),/*#__PURE__*/_jsx(DeleteCard,{id:cardsitem._id,Fetchdata:fetchData}),/*#__PURE__*/_jsx(Editcard,{onClick:function onClick(args){return openEdit(args,cardsitem._id);},children:\" \"}),cardsitem.isEdit&&/*#__PURE__*/_jsx(UpdateCard,{id:cardsitem._id,Fetchdata:fetchData})]})]})]},id);}))]});}var Add=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  width:100%;\\n  height: 60px;\\n  color: black;\\npadding:0 0 0 10px;\\n  cursor: pointer;\\n  \"])));var Cardname=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  width:100%;\\n  height: 60px;\\n  color: black;\\n\\n  cursor: pointer;\\n \\n  \"])));var Cards=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin:20px 10px 5px 10px;\\n    height: fit-content;\\n    border-radius: 8px;\\n    border:1px solid grey;\\n  \"])));var Container=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  margin:30px 10px 0 10px;\\n   height: fit-content;\\n   border-radius: 8px;\\n   border:1px solid grey;\\n \"])));var Details=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: grid; \\n    grid-template-columns: 1fr 1fr; \\n    grid-gap: 20px; \\n  margin:10px ;\\n  height:fit-content;\\n \"])));var Detailschild=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  label {\\n    font-size: 14px;\\n    font-weight: 600;\\n  }\\n  p\\n  {\\nmargin-top:auto;\\n  }\\n \"])));var Editcard=styled(FaEdit)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n height:20px;\\n  width:20px;\\n  padding:20px 8px 0 8px\\n\"])));export default SavedCards;","map":{"version":3,"names":["React","useState","styled","DeleteCard","UpdateCard","FaEdit","axios","SavedCards","props","data","setData","openCard","setOpen","opensavedCard","e","preventDefault","fetchData","setsaveCard","saveCard","openCards","id","console","log","element","find","x","_id","isOpen","openEdit","isEdit","get","result","forEach","length","map","cardsitem","args","card","slice","replace","substring","cardHolder","expiry","Add","button","Cardname","Cards","div","Container","Details","Detailschild","Editcard"],"sources":["C:/Users/arora/OneDrive/Desktop/React/frontend/src/components/SavedCards.js"],"sourcesContent":["import React,{useState} from \"react\";\r\n\r\n\r\nimport styled from \"styled-components\";\r\nimport DeleteCard from './DeleteCard';\r\nimport UpdateCard from './UpdateCard'\r\nimport {FaEdit} from 'react-icons/fa';\r\nimport axios from '../axios'\r\nfunction SavedCards(props) {\r\n  const [data,setData]=useState([])\r\nconst [openCard, setOpen] = useState(false);\r\n\r\n\r\n\r\n\r\nconst opensavedCard=(e)=>\r\n{\r\ne.preventDefault();\r\nfetchData();\r\n  props.setsaveCard(!props.saveCard);\r\n}\r\n\r\nconst openCards=(e,id)=>\r\n{\r\n  e.preventDefault();\r\nconsole.log(id)\r\n\r\n// to close all other cards except the one which is clicked\r\n// data.forEach(element=>\r\n//   {\r\n//     element.isOpen=false;\r\n//   })\r\n\r\nlet element=data.find(x=>x._id===id);\r\nconsole.log(element);\r\nelement.isOpen=(!element.isOpen);\r\nsetOpen(!openCard);\r\n}\r\n\r\nfunction openEdit(e,id)\r\n{\r\nlet element=data.find(x=>x._id===id)\r\nconsole.log(element)\r\nelement.isEdit=(!element.isEdit);\r\nsetOpen(!openCard);\r\n}\r\n\r\n\r\nconst fetchData=async()=>\r\n    {\r\n      \r\n      const result=await axios.get(\"/cards/get\");\r\n\r\n      \r\n      result.data.forEach(element => {\r\n        element.isOpen=false;\r\n        element.isEdit=false;\r\n      });\r\n      console.log(result.data);\r\n      \r\n        setData(result.data)\r\n      \r\n  \r\n    }\r\n        \r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container>\r\n    <Add onClick={opensavedCard}>\r\n    {/* <div className='text'>Your saved credit and debit cards</div> */}\r\n    Your saved credit and debit cards\r\n   </Add>\r\n \r\n      {props.saveCard && (data.length<1 ? <Details> No cards have been saved yet</Details> : data.map((cardsitem,id) => {\r\n        return (\r\n         <Cards key={id}>\r\n          <Cardname onClick={(args)=>openCards(args,cardsitem._id)}>\r\n            Card ending with {cardsitem.card.slice(-4)}\r\n        </Cardname>\r\n\r\n        {(cardsitem.isOpen) && \r\n        (<Details>\r\n        <Detailschild>\r\n        <label>Card Number\r\n       </label>\r\n       <p> {cardsitem.card.replace(cardsitem.card.substring(5,14),\"**** ****\")}</p>\r\n       <label>Name on card\r\n       </label>\r\n       <p>{cardsitem.cardHolder}</p>\r\n          </Detailschild>\r\n          <Detailschild>\r\n          <label>Expiry date\r\n       </label>\r\n          <p>{cardsitem.expiry}</p>\r\n       <DeleteCard id={cardsitem._id} Fetchdata={fetchData}></DeleteCard>\r\n       <Editcard onClick={(args)=>openEdit(args,cardsitem._id)}> </Editcard>\r\n       {cardsitem.isEdit && <UpdateCard id={cardsitem._id} Fetchdata={fetchData}></UpdateCard>}\r\n        </Detailschild>    \r\n      </Details>\r\n        )\r\n        }\r\n       \r\n        </Cards >\r\n        );\r\n      }))\r\n      }\r\n     \r\n      </Container>\r\n    \r\n  );\r\n}\r\n\r\nconst Add = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  width:100%;\r\n  height: 60px;\r\n  color: black;\r\npadding:0 0 0 10px;\r\n  cursor: pointer;\r\n  `;\r\n\r\n  const Cardname = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  width:100%;\r\n  height: 60px;\r\n  color: black;\r\n\r\n  cursor: pointer;\r\n \r\n  `;\r\n\r\n  const Cards=styled.div`\r\n  margin:20px 10px 5px 10px;\r\n    height: fit-content;\r\n    border-radius: 8px;\r\n    border:1px solid grey;\r\n  `;\r\n\r\n  const Container = styled.div`\r\n  margin:30px 10px 0 10px;\r\n   height: fit-content;\r\n   border-radius: 8px;\r\n   border:1px solid grey;\r\n `;\r\n\r\n const Details=styled.div`\r\n  display: grid; \r\n    grid-template-columns: 1fr 1fr; \r\n    grid-gap: 20px; \r\n  margin:10px ;\r\n  height:fit-content;\r\n `\r\n ;\r\n\r\n\r\n\r\n const Detailschild=styled.div`\r\n  label {\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n  }\r\n  p\r\n  {\r\nmargin-top:auto;\r\n  }\r\n `;\r\n const Editcard=styled(FaEdit)`\r\n height:20px;\r\n  width:20px;\r\n  padding:20px 8px 0 8px\r\n`;\r\n\r\n\r\n\r\n \r\n\r\n\r\nexport default SavedCards;"],"mappings":"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"},"metadata":{},"sourceType":"module"}